# MP3 播放剪輯工具

一個強大的線上 MP3 音頻播放和編輯工具，支援音頻剪輯、淡入淡出效果、波形可視化，以及 MP3/WAV 格式導出。

## 🎵 功能特色

- **音頻播放控制**：播放、暫停、前進、後退控制
- **智能剪輯**：精確設定開始和結束時間
- **淡入淡出效果**：可調整的淡入淡出時間，即時預覽效果
- **波形可視化**：實時顯示音頻波形和播放進度
- **高品質導出**：
  - **MP3**：320kbps 高音質編碼
  - **WAV**：無損音質
- **拖放上傳**：支援拖拽文件上傳
- **即時預覽**：剪輯效果即時預覽

## 🚀 技術特點

- 使用 **Web Audio API** 進行音頻處理
- **LameJS** 庫提供 MP3 編碼支援
- Canvas 波形可視化
- 響應式設計，支援移動設備
- 單一音軌管理，避免多重音軌問題

## 📁 文件結構

```
MP3 播放剪輯/
├── index.html              # 主頁面
├── README.md               # 說明文件
└── assets/
    ├── css/
    │   └── style.css       # 主樣式表
    ├── js/
    │   ├── mp3-editor.js   # 主要功能腳本
    │   ├── audio-engine.js # 音頻引擎
    │   └── audio-encoder.js # 音頻編碼器
    └── images/
        └── (存放圖片資源)
```

## 🔧 使用方法

1. **上傳音頻**：拖拽或點擊上傳 MP3/WAV 音頻文件
2. **播放控制**：使用播放/暫停按鈕控制播放，前進/後退按鈕快速導航
3. **設定剪輯**：
   - 手動輸入開始和結束時間
   - 或在播放時使用「設為開始時間」/「設為結束時間」按鈕
4. **淡入淡出**：調整淡入和淡出時間（秒）
5. **預覽剪輯**：點擊「預覽剪輯」按鈕聽取效果
6. **導出音頻**：選擇 WAV 或 MP3 格式下載

## 🎛️ 控制說明

- **播放/暫停**：控制音頻播放狀態
- **前進/後退**：每次跳躍 5 秒
- **音量滑桿**：調整播放音量（0-100%）
- **進度條**：顯示播放進度，可點擊跳轉
- **波形圖**：視覺化音頻內容，紅線顯示當前播放位置

## 🛠️ 技術實現

### 核心音頻管理
- 使用 `AudioBufferSourceNode` 和 `startOffset` 機制確保單一音軌播放
- 實現 `forceStopSourceNode()` 函數防止多重音軌問題
- 智能音頻狀態管理，避免 Web Audio API 限制

### 淡入淡出效果
- 實時使用 `GainNode` 實現淡入淡出效果
- 預覽模式即時展現音頻效果
- 導出時應用淡入淡出到最終音頻

### 高品質編碼
- MP3 編碼使用 320kbps 品質設定
- WAV 格式支援 16-bit PCM 編碼
- 防削峰處理確保音質完整

## 🌐 瀏覽器支援

- Chrome (推薦)
- Firefox
- Safari
- Edge

**注意**：需要支援 Web Audio API 的現代瀏覽器

## 📱 響應式設計

完全響應式設計，支援：
- 桌面電腦
- 平板設備  
- 手機設備

## 🔄 更新日誌

### v1.0.0
- 初始版本發布
- 基礎音頻播放功能
- 剪輯和淡入淡出效果
- MP3/WAV 導出功能
- 波形可視化

## 📞 支援

如有問題或建議，請提交 Issue 或 Pull Request。

## 📄 授權

MIT License - 請查看 [LICENSE](LICENSE) 文件了解詳情。